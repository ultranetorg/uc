using System.Net;
using System.Reflection;

namespace Uccs.Rdn;

public abstract class Rdn : McvNet
{
	public override	string			Address => Root;
	public override	string			Name => Root;
	public override ushort			McvPortPostfix => (ushort)KnownSystem.Rdn;
 		
	public bool						Auctions				= false;
	public long						DomainRankCheckECFee	= 5;

 	public static readonly Rdn		Local = new RdnLocal();
 	public static readonly Rdn		Test = new RdnPublicTest();
 	public static readonly Rdn		Developer0 = new RdnDeveloper0();
	public static readonly Rdn		Main = null;
	public static readonly Rdn[]	Official = [Local, Developer0, Test];

	public static Rdn				ByZone(Zone name) => Official.First(i => i.Zone == name);
	
	public Rdn()
	{
		TablesCount = 4;

		foreach(var i in Assembly.GetExecutingAssembly().DefinedTypes.Where(i => i.IsSubclassOf(typeof(Operation)) && !i.IsAbstract))
		{
			if(Enum.TryParse<RdnOperationClass>(i.Name, out var v))
			{
				Codes[i] = (uint)v;
				Contructors[typeof(Operation)][(uint)v]  = i.GetConstructor([]);
			}
		}
	}
}

public class RdnLocal : Rdn
{	
	public override	Zone	Zone => Zone.Local;
	
	public RdnLocal()
	{
		Genesis			= "000001FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000A1C44BC13ECDC728EEEDCFBACFA6AD1A50CA7EC9521B6D9782385C0D35BC3FFA00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000020000FFFFFFFF0F0000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000DE7182C9CFBAC46B71A8BA8EA0015F242B9A3221E4A0C1B107414699AC8E57740000000000000000000000000000000000000000000102000000017F000064017F0000640000FFFFFFFF0FFFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000FAAA70F36AACC078F0016FE54A9831BB8A75F18030963DFB15C0AB0512631BD700000000000000000000000000000000000000000002010000000000A5A0591B2BF5085C0DDA2C39C5E478300C68030000000100FEFFFFFF0F0100FFFFFFFF0F80E0A7B0F4CA0300808080C0D10200010001FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000B61743107BC89D7B8EB348AA5F976F0DD556D0B13B4A92598B8F8458E75CAB0A00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000020001FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000A7D7ED03E4CFDD2327F881859329B4A933C496B2D0AA2996E53B33DE82886CCF00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000030001FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000008FB2C843CF256B55C6E67DA21887972C356E8FEEAEEE5002E25E9B85801A85EB00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000040001FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000C467AFBDEC61401397F6BB9D8F197238EFB99FBE504E471AEB02FCD31FF544B00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000050001FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000002DEBACC95DD03B09812AADC8357722DBE3271D36D4DD4DC8A2FB0C891FFFA45E00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000060001FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000AC23B54FFF00E18430ED89217C281F22B9D9BE2B73A1603CAFF765D34627D9CF00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800008EC754975A270856827E798E1CC9C09DA5F0406CF3028B0712C0A3F3D620F5B100000000000700010000A5A0591B2BF5085C0DDA2C39C5E478300C6800000000000000000000000033BCBF9E10ED15277F9C1C574024E514F631E0FEC3DF06423FCAAC8EFCB8D42C000000A5A0591B2BF5085C0DDA2C39C5E478300C68000066F640C19C5449D05DA4430A02061C746C3FF8730A83F0269A8061FB02C0AEB600000000000800010000A5A0591B2BF5085C0DDA2C39C5E478300C6800000000000000000000000054AFE048F2FD0223DF239143DB3338F56F6797F086B4ACAF83DA4E18531C0A44000000A5A0591B2BF5085C0DDA2C39C5E478300C6800009917D1CE8B767917A4C806EE3DBD9B44B964DC3FDF7A8E44DA0F8D8A6BFD4A4B00000000000900010000A5A0591B2BF5085C0DDA2C39C5E478300C680000000000000000000000000D2F52B9939AF89F67134DFF015BCE91CC83F7E18D3AD784F5ACCE8EEB15CE35000000A5A0591B2BF5085C0DDA2C39C5E478300C680000F9311F3663DFEFE0861DA0E3FBF690CD1E29F88D60A34BF58172076E4E63C3D400000000000A00010000A5A0591B2BF5085C0DDA2C39C5E478300C680000000000000000000000004A58E6A9EA5CAD0D7B5A8287A0C9F3333523DEA59472C23AA020B42267456A09000000A5A0591B2BF5085C0DDA2C39C5E478300C680000093047A44ABBFC8F3EA9C58FC81026F6A6749591F57912FD22444AACF9B0BE7B00000000000B00010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000DD03216C8173332C368113D05782AE2A8E7212D107411F94CEB611CF4B8E5BE6000000A5A0591B2BF5085C0DDA2C39C5E478300C680000F94330BE845BC0E64102FA6DC4DE50366C7A6DCEA853323425EB417A1657FE1800000000000C00010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000D70FFE440ECB309DA1FE8A87B4239A41CCC5239FD1AFF3E27D6085E45CF5FADD000000A5A0591B2BF5085C0DDA2C39C5E478300C6800000C7CA042856D0DE748FCDDA31D55499BD14C83BFECB08CE2317575A2094B03DA0000000000";
		Father0IP		= new IPAddress([127, 0, 0, 100]);
		Cryptography	= Cryptography.No;
		PoW				= false;
		Auctions		= false;
		CommitLength	= 100;
		ECLifetime		= Time.FromYears(100);

		Initials		= Enumerable.Range(100, 16).Select(i => new IPAddress([127, 0, 0, (byte)i])).ToArray();
	}
}

public class RdnDeveloper0 : Rdn
{
	public override	Zone	Zone => Zone.Developer0;

	public RdnDeveloper0()
	{
 		Genesis		= "000001136BC76B913E848AB8D45341BB577CBD89B6147261F5E7DBA4782393EB0F551A1C75214A77B59DE94755244BB1D8CD84F5127E4733A1EEE03179E7910F86A92800FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000020000FFFFFFFF0F51F71E3492916B3DA243CB4F3E8FB2F807713F199CD32B45285A1C81CC7EB14537D7C1EC583F6E2421C3F8FFE3AAE3EC5238AC22CC218E64952FDDF408BADE870100000000000000000000000000000000000000000101014E2FCC64014E2FCC640000FFFFFFFF0F6C712CB08F7473E6B3830A45D714EBF7E91F3968AA9E2FBF6F5D42BD0EF68555492B880411B57D2DC613BD253DEDDA975056D09E14015D3D6D1566D3BA0C89CB01000000000000000000000000000000000000000001020000A5A0591B2BF5085C0DDA2C39C5E478300C6880E0AEF7A001ED028080982A0001000116C57751DDD177F9AFFC108BD0E81C1AA366473D009841BBD40DF1E596F15CC27CAD8E81642A833C7EC558E2C8A95CC90C2EF93A74D4738E1957DCE2A07394D801FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000200012A3F6A5E120902B78C87E9DCE91CC9459EC4799DFEA4F1D75D49426AD458E13D54055F3F4CDC3751B25384CAA49F3AB0F1E6B1E073DC47070BC74B7B32149E3F00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000000003000139E823EA63C1B28963A118404B3F705722951E86DE2F40FE6735F4EF1315DD9358653F6AC34A3826190952BB4C46DA4E54EE6D5748FC71CEC90CD087C299734700FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000400014CBC9123232727B02F301F391A0914883FC827B6F5D93FB412192030D21603D177E4368AEC16FBBB02D33D46393C8E082AF33A07CA4DC6C1AA0722012D37DFD101FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000050001A2390C9DD13A5991A6FE34A298E1F396BC57864905549FCF22E5DC050671447E6BE5757C210C78905845BB2C0462EEB880824EA74BC1CB0A256D0A8ADD39DD5800FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000060001F6FBCFD47D86A0C8BB997DA75D3EE4CC1937C5550E3EC7F70EF067C7533B3C4C5096CD8CF4B43FE3A080A0CFC0F779A3D119FADC024637606B474FAC71C709C201FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000DBBA865973A79DABCC4A941BCD611A3B7117D4370E5E002206C4570F93DF94FD000000000007000166AE7DF0DF0E0E5E4DECB95B37AEE1F87544950BA9602CB90B222DBF12AEC1F36F2D88A694FEDA488DF7C7AD374D1BC707DCAF873C211653B2E618337BE1B5EC00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000013BB84AF21DADBA5CE8F73303C22B40EDA1693747FD7270DD41F879E69BE118B00000000000800018086376B19D2BD08B5C58908D1438DB7DE586DB49C87AF005BD4458DC1C318CA71BC0BD9004E74BEC91CDCE1A9E1DDCC98680A5B8962D5C8DAA3A0C639879DC900FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000055C7840E98F5BFC25E3BB6D5B3B9D74A636EC7E788B60132C5A77B3929BBC3F40000000000090001415033E5ABFB669AD4B840A31B2936C319C2691B04DC98452B8F6E7E5555F30927CF7F89697662663CD2A2DAA9398818C0A04A4EC503DA538B1AAF195FB78F9B01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000001045E2A17E4EE99DE9BC65A4D181842F3D661353A5959606A742E22BC55663B00000000000A000118F4C62FB128177365C7554F5FC40838DB757D48422D0B7BB00BDBBF71FFF83F112577CD681BFA5E4631142408A8A6FFF5E43FB3BD2EE2CA4113FD63A2C3BD3400FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000D57FE034A3BDAB6DA8513688B26F59A97CBE7BE61A1A98646852F641E60B779E00000000000B00016810155794017027FE84F63FA933A38B5987C40F609B23865F901702086DEC330C85E4D6FFAA528722852A0358A986393C6AB64038A82A21AC199B9EBA1B233300FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000467E9BE2D1A927EE19ADA12294CD5D9BE4012F75F3BE17174C85DD52674DC8300000000000C00014415F0CF39FBD0C0C4AC4AA89879EE841327804631F0F6A7E9F001D2FAFC3A614B962AEC16CB8F9E0C4991D7FA709C07D827E843798F6A0B96C78A36895986F0000000A5A0591B2BF5085C0DDA2C39C5E478300C680000A392A69C490B4EDCBD92EF39E914CC43B4DC36F3BCD979320EDA81C4307E430F00000000000D000118B8D10721C4BD9520E6E2419A7CE61FE14CFDC313C6E2638D8EE09B70968335777A5AF0C2DF99911FDA3E32439F77DAD2369A21140CF98F30EF0588119C13D3010000A5A0591B2BF5085C0DDA2C39C5E478300C680000E3FDF7C5F973E4BEFCBD74D4A789CEA3CDA30FF6B276C98CE3E52D869BC5BF9B00000000000E00011D861DC4F01ACA7725B7C32D10B83EC29A8F5ADA124DA3397192E3C605EF7280356F5AA816BD5A16FB469243859B0BD44AE882A804878BE9B645227CDD4F5131000000A5A0591B2BF5085C0DDA2C39C5E478300C6800001B9CA1289C6601C3F2ED7825D244D1753152F0EED0086F0E537F3CB72F1AB47700000000000F0001F03F6092EB51064CE0E90A7399C76190DBDA6E0B83EBFB2AD745CBF7D191BFC65227E5BCF40247C4A017C64D91ACE793E71672F1B4C0080F41129960428A7E74010000A5A0591B2BF5085C0DDA2C39C5E478300C6800004B5CD186C6914C931DC7A8349D8EF8731CCB9E90F5DF7A2A6171A2695F393E23000000000010000159189E28F0C8B20C13126BECC6F96D38DE916ADBB94D7EA9BE06E4437814B9EC2BC3764E91FFF395EDFD625254401911DCBABEBF08D9A5352B0D94AF54D99FDB000000A5A0591B2BF5085C0DDA2C39C5E478300C6800002F246D9862EAD3F9A0D2E0D679F1135F971D6A8A57B4523227297098482916FD000000000011000108E3289DA43288210650D7AF0E1E9F26BDCBD26A3DFEE6408D3FB90BE12A4EEC61C4DEFE281E0A761EC612400D958841F3FECBE834E1C492F29C4CFA256CD7BC010000A5A0591B2BF5085C0DDA2C39C5E478300C680000D306F3FAF71EC56F07C570DBF11FBCCDD3C52B890CDDEE135D8207F6C59A17620000000000";

		var z = Test;

 		Father0IP	= z.Father0IP;
		Initials	= z.Initials;
	}
}

public class RdnPublicTest : Rdn
{
	public override	Zone	Zone => Zone.Test;

	public RdnPublicTest()
	{
 		Genesis		= "0000019D7EA7E8446A3E1D9EF9B61652EABC76895E158EA2F79389372B921F4FE0882C31A86D64F548C4642B05FE5B5A78502080CD3C6DEDD81CB7E606F404113DB21100FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000020000FFFFFFFF0FA7F2F44A50A7CEBFE1758B7B185D91FBF234F9B165630AF20F119D94F41E6E8E42437801A55EA3C3A9F4947B0BF3305659D443642F7045BB560508FBDA34C43F0000000000000000000000000000000000000000000102000000014E2FCC64014E2FCC640000FFFFFFFF0F30A2E20F3629FF6B1253215474AB85C7A514C98153FA5FD287FE366C28F7F211359FF64B2B2CD8591CC0570A32CF58C420D92C32A847E0F3B4762EFE218BB1A100000000000000000000000000000000000000000002010000000000A5A0591B2BF5085C0DDA2C39C5E478300C68030000000100FEFFFFFF0F0100FFFFFFFF0F80E0A7B0F4CA0300808080C0D10200010001B411F566766B0A26F516F64E348B7874AF31DF76B0A28A5F88620984C46934AA4310DE5E6F2323392D844AF5256F2D64F9FBEFD52A82692447AF4C6EFF5FADAE00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000000002000148D78A1F26DF45D4203AE437EB687C15152DB089C3B9419F29540C945872D1A256C1062F090733E46977EB7EBC33868D31288680EB0C9FA0C37AD01EBC31D11A01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000030001DAD6996D5F1BD23AA1450198537C14B61617D0799CD0A196777289BD11C7666067373DF14C2365E505672744A6B6399916DCB307F60B4D8F7E7C4CBEC2EA765A00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000400015F86E5454AFD12B68B409F74379D9B63BBC97FE4AAE4FCEDDF9325E1BB60157D2A0C6BC416FEF91FEBE7B4D463C084C15B382D0880D788B817EC3DB0DB759C9700FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000500017B4511DD7895F521AFC339C01289D5FC1D0C41CD7350AEA9E3CC6B45A2887A0D767EC23AF947843B38495653D934E00BD3FD11D17C4E337B8323C20A3FFD22DD01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000000006000166EE5AE9222542FA6F159E4E741ECF87D6771CF59A771E583A4A580748F31FEF701EFA0CB37374ABD5A20CD56FA5EBEAE38C973124D7ABF74AEA80965CB6704C00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000D74AF7B413DA6A7A186D50F4C92FAD655BCA365C2FB07B1358D5496314C8EBED0000000000070001F96EE149D0D7DEE71A2173D2708CCE3CE2C34CA624D19E7EFF14F53D319B5943166D63C1FB68D4FEE57AD064D47C5E3D198201073B7DB36957EB9B8432282E09000000A5A0591B2BF5085C0DDA2C39C5E478300C680000109BD49194DD147144F32FC104CAAD3881618525BEFC30908AB2E25CFD1DA96300000000000800014ABA78C6047BC3204A45CA11A51672F1175E4638FC6DD150E4A4B64371B23D014C4158D0950B620DA4C5251C7BDA8C342781273658F2D36B7DC2B19715D6287C000000A5A0591B2BF5085C0DDA2C39C5E478300C6800007D5DDC9291E3B1044DBE29D1FB15CB70EAE8497650E803D6CA40CA5C068327130000000000090001FE1A2B8A0E192CB443E05D07FDD842CB58298548139497841B7AD0E9BBD652260AC9E1317417476F63D799E334507DE5142B26DA8ACFBF11ACD7A2F46C87D4C4000000A5A0591B2BF5085C0DDA2C39C5E478300C6800003A373743D286F99FD224D583AD3FF427E8F8DB15AB2461814BCFB4EAE509C49E00000000000A0001A40B7EED7B030E55717FA68502BD92C2A2D5A34431F9AA1B9EEEC8761D7AD31D4E2086FDF1983462A168F453E3399B99948ACA64514C4C20DAE21960B3D02556000000A5A0591B2BF5085C0DDA2C39C5E478300C68000098A54C435DE8D6041C6ECF9020EEC4A9FC7BA9990B47904414B8BF5C32180AB100000000000B0001F1474C2D212D9EC205646FD612F62967BA30FBFF761B4137488B1ABF68EBCE79672C2183B463870A11C15F43D1282F00368200CA6088CDFCE3DF3AB1E0D483D0000000A5A0591B2BF5085C0DDA2C39C5E478300C6800006521658350468668F71E93149C503A5449787EC1EB887D8A1D59592BAC80516D00000000000C00010D1CF9379FD31DEC1A6690AC875C416DA468D838E70F98CB1601B3E2797BB878370A4986657ACAFD2765237A399B43CD8C75A8B0CD7EB52B1A86BFE287A44D48000000A5A0591B2BF5085C0DDA2C39C5E478300C6800004B8F160F73A2E1D2313D8AE2C1D3F0DBA8EC9C7F951B3B3E50A6AF852B9DD30A0000000000";
 		Father0IP	= IPAddress.Parse("78.47.204.100");
		Initials	= UOInitials;
	}
}
