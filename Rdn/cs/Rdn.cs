using System.Net;
using System.Reflection;

namespace Uccs.Rdn;

public abstract class Rdn : McvNet
{
	public override	string			Address => Root;
	public override	string			Name => Root;
	public override ushort			McvPortPostfix => (ushort)KnownSystem.Rdn;
	public override int				TablesCount => Enum.GetValues<RdnTable>().Length;
 		
	public bool						Auctions				= false;
	public long						DomainRankCheckECFee	= 5;

 	public static readonly Rdn		Local = new RdnLocal();
 	public static readonly Rdn		Test = new RdnPublicTest();
 	public static readonly Rdn		Developer0 = new RdnDeveloper0();
	public static readonly Rdn		Main = null;
	public static readonly Rdn[]	Official = [Local, Developer0, Test];

	public static Rdn				ByZone(Zone zone) => Official.First(i => i.Zone == zone);
	
	public Rdn()
	{
		foreach(var i in Assembly.GetExecutingAssembly().DefinedTypes.Where(i => i.IsSubclassOf(typeof(Operation)) && !i.IsAbstract))
		{
			if(Enum.TryParse<RdnOperationClass>(i.Name, out var v))
			{
				Codes[i] = (uint)v;
				Contructors[typeof(Operation)][(uint)v]  = i.GetConstructor([]);
			}
		}
	}
}

public class RdnLocal : Rdn
{	
	public override	Zone	Zone => Zone.Local;
	
	public RdnLocal()
	{
		Genesis			= "000001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000003511D29D4A777714A99C48A958B3B42837DA0EEC6373AA1CDC09F7F393C7C8AA00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00000000000000000000000000000000000000000000000000000000000000000000000000010000FFFFFFFF0FCD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00000000000000000000000016A9E0E3C2F3D0455E691B90CD35A560699CCC0B9C8C9A53CE811C2A92F3FE5D00000000000000000000000000000000000000000000010100000000010001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000B61743107BC89D7B8EB348AA5F976F0DD556D0B13B4A92598B8F8458E75CAB0A00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000000000000000000000000000000000000000000000000000000000020001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000A7D7ED03E4CFDD2327F881859329B4A933C496B2D0AA2996E53B33DE82886CCF00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000000000000000000000000000000000000000000000000000000000030001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000008FB2C843CF256B55C6E67DA21887972C356E8FEEAEEE5002E25E9B85801A85EB00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000000000000000000000000000000000000000000000000000000000040001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000C467AFBDEC61401397F6BB9D8F197238EFB99FBE504E471AEB02FCD31FF544B00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000000000000000000000000000000000000000000000000000000000050001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000002DEBACC95DD03B09812AADC8357722DBE3271D36D4DD4DC8A2FB0C891FFFA45E00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000000000000000000000000000000000000000000000000000000000060001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000006C3345C67891321B76C8ECAE014A85C14B31E0EA22206CF28443CAC1AE00D47400CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00008AAC3C97A4FC79767814BB29F1493CDD4AF1A1AE8B4E53741D8900D8EE48C33A00000000000700010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000DBC633DB47658D4194314B3C63EB0233888BC3B98B43BC7C28D9659088E9E993000000A5A0591B2BF5085C0DDA2C39C5E478300C680000C70F1B348230E5D0C944593D7425BA1387E80503B6280FBC01F42D6F484AC71E00000000000800010000A5A0591B2BF5085C0DDA2C39C5E478300C680000000000000000000000008B240BBD451AB6CFC87885B1EEFC7D9B4430261CC4A08DADCDE2EE79E7F75D7E000000A5A0591B2BF5085C0DDA2C39C5E478300C680000F839A4A31C24353C107899A3F0E36EA905753B9CCC76EB785A25453DE53F11E400000000000900010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000BBF0ADA668FF046A831FD89703E500316ECF24A0AA80610732CC15CB95A4ACF3000000A5A0591B2BF5085C0DDA2C39C5E478300C6800007C28AEBBCE28892AF4E0F438F2720FA9A7F628032AD529E99A90B240025FCC1300000000000A00010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000E1423D3EB8AF477837E5F71C4798BB091755AA205539184305123FB73EF38403000000A5A0591B2BF5085C0DDA2C39C5E478300C680000E45E2BBA4EC70C5AB86B70AB0D74E844A047EB6CE4BCA9725FD0A88EA44926C300000000000B00010000A5A0591B2BF5085C0DDA2C39C5E478300C6800000000000000000000000005C62DE2E93BAA7D684A452E3F43FC4B0C76B5393020AF6BF324B8098BB66EDE000000A5A0591B2BF5085C0DDA2C39C5E478300C68000085009800189B5002C41D8CD6FDDB677DA71433DBD7130341DDC47192B5F7493700000000000C00010000A5A0591B2BF5085C0DDA2C39C5E478300C6800000000000000000000000075D71B256A574A43B3F94866E1AF496F20369857BDD8699107553C191194995D000000A5A0591B2BF5085C0DDA2C39C5E478300C680000890BEE390012E9DAA9BCC90725DC717B6769D0BE7E3AFBFB523B403BA7FFD8BB0000000000";
		Father0IP		= new IPAddress([127, 0, 0, 100]);
		Cryptography	= Cryptography.No;
		PoW				= false;
		Auctions		= false;
		CommitLength	= 100;
		ECLifetime		= Time.FromYears(100);

		Initials		= Enumerable.Range(100, 16).Select(i => new IPAddress([127, 0, 0, (byte)i])).ToArray();
	}
}

public class RdnDeveloper0 : Rdn
{
	public override	Zone	Zone => Zone.Developer0;

	public RdnDeveloper0()
	{
 		Genesis		= "000001136BC76B913E848AB8D45341BB577CBD89B6147261F5E7DBA4782393EB0F551A1C75214A77B59DE94755244BB1D8CD84F5127E4733A1EEE03179E7910F86A92800FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000020000FFFFFFFF0F51F71E3492916B3DA243CB4F3E8FB2F807713F199CD32B45285A1C81CC7EB14537D7C1EC583F6E2421C3F8FFE3AAE3EC5238AC22CC218E64952FDDF408BADE870100000000000000000000000000000000000000000101014E2FCC64014E2FCC640000FFFFFFFF0F6C712CB08F7473E6B3830A45D714EBF7E91F3968AA9E2FBF6F5D42BD0EF68555492B880411B57D2DC613BD253DEDDA975056D09E14015D3D6D1566D3BA0C89CB01000000000000000000000000000000000000000001020000A5A0591B2BF5085C0DDA2C39C5E478300C6880E0AEF7A001ED028080982A0001000116C57751DDD177F9AFFC108BD0E81C1AA366473D009841BBD40DF1E596F15CC27CAD8E81642A833C7EC558E2C8A95CC90C2EF93A74D4738E1957DCE2A07394D801FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000200012A3F6A5E120902B78C87E9DCE91CC9459EC4799DFEA4F1D75D49426AD458E13D54055F3F4CDC3751B25384CAA49F3AB0F1E6B1E073DC47070BC74B7B32149E3F00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000000003000139E823EA63C1B28963A118404B3F705722951E86DE2F40FE6735F4EF1315DD9358653F6AC34A3826190952BB4C46DA4E54EE6D5748FC71CEC90CD087C299734700FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000400014CBC9123232727B02F301F391A0914883FC827B6F5D93FB412192030D21603D177E4368AEC16FBBB02D33D46393C8E082AF33A07CA4DC6C1AA0722012D37DFD101FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000050001A2390C9DD13A5991A6FE34A298E1F396BC57864905549FCF22E5DC050671447E6BE5757C210C78905845BB2C0462EEB880824EA74BC1CB0A256D0A8ADD39DD5800FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000060001F6FBCFD47D86A0C8BB997DA75D3EE4CC1937C5550E3EC7F70EF067C7533B3C4C5096CD8CF4B43FE3A080A0CFC0F779A3D119FADC024637606B474FAC71C709C201FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000DBBA865973A79DABCC4A941BCD611A3B7117D4370E5E002206C4570F93DF94FD000000000007000166AE7DF0DF0E0E5E4DECB95B37AEE1F87544950BA9602CB90B222DBF12AEC1F36F2D88A694FEDA488DF7C7AD374D1BC707DCAF873C211653B2E618337BE1B5EC00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000013BB84AF21DADBA5CE8F73303C22B40EDA1693747FD7270DD41F879E69BE118B00000000000800018086376B19D2BD08B5C58908D1438DB7DE586DB49C87AF005BD4458DC1C318CA71BC0BD9004E74BEC91CDCE1A9E1DDCC98680A5B8962D5C8DAA3A0C639879DC900FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000055C7840E98F5BFC25E3BB6D5B3B9D74A636EC7E788B60132C5A77B3929BBC3F40000000000090001415033E5ABFB669AD4B840A31B2936C319C2691B04DC98452B8F6E7E5555F30927CF7F89697662663CD2A2DAA9398818C0A04A4EC503DA538B1AAF195FB78F9B01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000001045E2A17E4EE99DE9BC65A4D181842F3D661353A5959606A742E22BC55663B00000000000A000118F4C62FB128177365C7554F5FC40838DB757D48422D0B7BB00BDBBF71FFF83F112577CD681BFA5E4631142408A8A6FFF5E43FB3BD2EE2CA4113FD63A2C3BD3400FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000D57FE034A3BDAB6DA8513688B26F59A97CBE7BE61A1A98646852F641E60B779E00000000000B00016810155794017027FE84F63FA933A38B5987C40F609B23865F901702086DEC330C85E4D6FFAA528722852A0358A986393C6AB64038A82A21AC199B9EBA1B233300FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000467E9BE2D1A927EE19ADA12294CD5D9BE4012F75F3BE17174C85DD52674DC8300000000000C00014415F0CF39FBD0C0C4AC4AA89879EE841327804631F0F6A7E9F001D2FAFC3A614B962AEC16CB8F9E0C4991D7FA709C07D827E843798F6A0B96C78A36895986F0000000A5A0591B2BF5085C0DDA2C39C5E478300C680000A392A69C490B4EDCBD92EF39E914CC43B4DC36F3BCD979320EDA81C4307E430F00000000000D000118B8D10721C4BD9520E6E2419A7CE61FE14CFDC313C6E2638D8EE09B70968335777A5AF0C2DF99911FDA3E32439F77DAD2369A21140CF98F30EF0588119C13D3010000A5A0591B2BF5085C0DDA2C39C5E478300C680000E3FDF7C5F973E4BEFCBD74D4A789CEA3CDA30FF6B276C98CE3E52D869BC5BF9B00000000000E00011D861DC4F01ACA7725B7C32D10B83EC29A8F5ADA124DA3397192E3C605EF7280356F5AA816BD5A16FB469243859B0BD44AE882A804878BE9B645227CDD4F5131000000A5A0591B2BF5085C0DDA2C39C5E478300C6800001B9CA1289C6601C3F2ED7825D244D1753152F0EED0086F0E537F3CB72F1AB47700000000000F0001F03F6092EB51064CE0E90A7399C76190DBDA6E0B83EBFB2AD745CBF7D191BFC65227E5BCF40247C4A017C64D91ACE793E71672F1B4C0080F41129960428A7E74010000A5A0591B2BF5085C0DDA2C39C5E478300C6800004B5CD186C6914C931DC7A8349D8EF8731CCB9E90F5DF7A2A6171A2695F393E23000000000010000159189E28F0C8B20C13126BECC6F96D38DE916ADBB94D7EA9BE06E4437814B9EC2BC3764E91FFF395EDFD625254401911DCBABEBF08D9A5352B0D94AF54D99FDB000000A5A0591B2BF5085C0DDA2C39C5E478300C6800002F246D9862EAD3F9A0D2E0D679F1135F971D6A8A57B4523227297098482916FD000000000011000108E3289DA43288210650D7AF0E1E9F26BDCBD26A3DFEE6408D3FB90BE12A4EEC61C4DEFE281E0A761EC612400D958841F3FECBE834E1C492F29C4CFA256CD7BC010000A5A0591B2BF5085C0DDA2C39C5E478300C680000D306F3FAF71EC56F07C570DBF11FBCCDD3C52B890CDDEE135D8207F6C59A17620000000000";

		var z = Test;

 		Father0IP	= z.Father0IP;
		Initials	= z.Initials;
	}
}

public class RdnPublicTest : Rdn
{
	public override	Zone	Zone => Zone.Test;

	public RdnPublicTest()
	{
 		Genesis		= "000001C9C60544019018BFC4A2CE2A319A4B914AB8A23B1F05B1F3A5F96F151A6619950E0B262780A1BFBF9494E0C63165D14149F0D6A409C5D8B8E050FE46B65532D600FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000020000FFFFFFFF0FA7F2F44A50A7CEBFE1758B7B185D91FBF234F9B165630AF20F119D94F41E6E8E42437801A55EA3C3A9F4947B0BF3305659D443642F7045BB560508FBDA34C43F0000000000000000000000000000000000000000000102000000014E2FCC64014E2FCC640000FFFFFFFF0FCB7BB3D31EC3CAE86051A4F562E0D934AE4658CEA5187D006FBF73A03710CC495C8628CC7A4E37BF5017B31F4B37CF52F11CFF8C9E8CB69677E9F6D4E2B6DB6B00000000000000000000000000000000000000000002010000000000A5A0591B2BF5085C0DDA2C39C5E478300C68030000000100FEFFFFFF0F0100FFFFFFFF0F80C0CFE0E8950700808080C0D10200010001B411F566766B0A26F516F64E348B7874AF31DF76B0A28A5F88620984C46934AA4310DE5E6F2323392D844AF5256F2D64F9FBEFD52A82692447AF4C6EFF5FADAE00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000000002000148D78A1F26DF45D4203AE437EB687C15152DB089C3B9419F29540C945872D1A256C1062F090733E46977EB7EBC33868D31288680EB0C9FA0C37AD01EBC31D11A01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000030001DAD6996D5F1BD23AA1450198537C14B61617D0799CD0A196777289BD11C7666067373DF14C2365E505672744A6B6399916DCB307F60B4D8F7E7C4CBEC2EA765A00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000400015F86E5454AFD12B68B409F74379D9B63BBC97FE4AAE4FCEDDF9325E1BB60157D2A0C6BC416FEF91FEBE7B4D463C084C15B382D0880D788B817EC3DB0DB759C9700FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000500017B4511DD7895F521AFC339C01289D5FC1D0C41CD7350AEA9E3CC6B45A2887A0D767EC23AF947843B38495653D934E00BD3FD11D17C4E337B8323C20A3FFD22DD01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000060001F75E1F3CBB00F03E5B3CB5552F9C9C10AAAD633C2C2B62498BDCCBBC5FE3EF8740AE61F37B6147DD1D3E7B668558E3BE6D304794BC0E833B81E4B62970E64D3D01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800002C81552A2931D4F9F9A4DBC522C8D6B594581EED2E3D09F23B844A5C2465CAAC0000000000070001C12D149B8A20ACB1B8FF147D17F606CD59DBD938C2B3B248FA0F4B01842A7975615955F67E389B5452FA49BA0A24BE66880A27C5BC3EECEE88ABAE1417C5C628010000A5A0591B2BF5085C0DDA2C39C5E478300C680000ACA812B81718C233C60EDD2FAA2A8993885D06073942661FC000527545EAC22D0000000000080001B4C65490EE8A3F358DB31C24FEB32B329E9CE8EF8CE550001D0EC50B27F07D7E35F25B19AACBCF5880317925F413A757211887E210AD2DF4F78A1799928E8146000000A5A0591B2BF5085C0DDA2C39C5E478300C680000AD1F5078B924A104460097B6127C66F7A90CD8BFBF04D2A0B3AF5D0E0DFCEC9200000000000900016908B41DE8FE6DC0CA42CB067C283B14A97B348ED4314576E0D74D3F6A06AB8B50E1ECCC1ECFA22FA328AF514F45DD5F3B957DD855EA3402FCD8BFE06C71BB06000000A5A0591B2BF5085C0DDA2C39C5E478300C6800008E9893DEE6CA710C397D9FB17BCB5E04EF974715BA85CEAE17E0595E646062BA00000000000A0001945135A6EB7D04E4F0568A6F76E8F3B401898B3649AD1D03FF60CF226DFE54EB62481B713652C14225049ED9BF718325B1EDE02779FF7BC1BB8EE1100796FE65010000A5A0591B2BF5085C0DDA2C39C5E478300C68000068E9420AC6C6DB7550EA60CCCB083F1A9C61254E7BB6F9AACBE4EA1334A0A28D00000000000B0001FDF38B9C33D1C40098D690158CC4A7E53A85A6D650131438C127BBF97294BED92B30F11BF4D229D7577B706678B0F63CCB400FDF239C823512FC0F185F4926DD010000A5A0591B2BF5085C0DDA2C39C5E478300C68000003F2820EA183E8E40C424D6422226516C621C5A88D4A371C15F428893D01987500000000000C00019151A3EDE7B49A3345908FEA54BF5D5056843951E6CF64779AB613693BF52AFD51C8CED1396F5A79BFABCC7C23EC31D33708E0BF322E39306796EB9852462D5D000000A5A0591B2BF5085C0DDA2C39C5E478300C680000FBC1C6C2A698391163FAA5E9A603A9C3467C41970EA81DC2E8CF8A38378ECB340000000000";
 		Father0IP	= IPAddress.Parse("78.47.204.100");
		Initials	= UOInitials;
	}
}
