<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="UC.Umc.Controls.CustomPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:views="clr-namespace:UC.Umc.Views"
    xmlns:vm="clr-namespace:UC.Umc.ViewModels"
    Shell.NavBarIsVisible="{Binding EnableBackButton, Source={x:Reference instance}}"
    Shell.TabBarIsVisible="False"
    x:DataType="vm:BasePageViewModel"
    x:Name="instance">
    
    <Shell.TitleView>
        <views:PageTitleActionView
            NotificationsCount="{Binding NotificationsCount}"
            MaxSeverity="{Binding NotificationsSeverity}"
            NotificationsCommand="{Binding OpenNotificationsCommand}"
            ConnectionState="{Binding ConnectionState}"
            Title="{Binding Title, Source={x:Reference instance}}"
            TitleStyle="{StaticResource TitleLabel}" />
    </Shell.TitleView>
    
    <AbsoluteLayout>
        <Image
            AbsoluteLayout.LayoutBounds="0,1,1,1"
            AbsoluteLayout.LayoutFlags="All"
            Opacity="0.4"
            Source="frame_bg.png" />
        <Grid
            Padding="{StaticResource UniPadding}"
            AbsoluteLayout.LayoutBounds="0,1,1,1"
            AbsoluteLayout.LayoutFlags="All">
            <ContentView
                x:Name="mainFrame"
                Content="{Binding MainContent, Source={x:Reference instance}}" />
        </Grid>
    </AbsoluteLayout>
</ContentPage>