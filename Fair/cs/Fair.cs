using System.Net;
using System.Reflection;

namespace Uccs.Fair;

public abstract class Fair : McvNet
{
	public override	string			Address => "fair";
	public override	string			Name => "fair";
	public override ushort			McvPortPostfix => (ushort)KnownSystem.Fair;
	public override int				TablesCount => Enum.GetNames<FairTable>().Count(i => i[0] != '_');
	
	public int						FileLengthMaximum = 1024*1024;
	public const ushort				PostLengthMaximum = 65535;
	public ushort					NicknameLengthMaximum = 32;
	public const ushort				TitleLengthMaximum = 64;
	public const ushort				SloganLengthMaximum = 128;
 		
	public static Dictionary<Type, uint>								OCodes = [];
	public static Dictionary<Type, Dictionary<uint, ConstructorInfo>>	OContructors = [];

 	public static readonly Fair		Local = new FairLocal();
 	public static readonly Fair		Test = new FairTest();
 	public static readonly Fair		Developer0 = new FairDeveloper0();
	public static readonly Fair		Main = null;
	public static readonly Fair[]	Official = [Local, Developer0, Test];

	public static Fair				ByZone(Zone name) => Official.First(i => i.Zone == name);

	
	public Fair()
	{
		OContructors[typeof(Operation)] = [];

		foreach(var i in Assembly.GetExecutingAssembly().DefinedTypes.Where(i => i.IsSubclassOf(typeof(Operation)) && !i.IsAbstract))
		{
			if(Enum.TryParse<FairOperationClass>(i.Name, out var v))
			{
				OCodes[i] = Codes[i] = (uint)v;
				OContructors[typeof(Operation)][(uint)v] = Contructors[typeof(Operation)][(uint)v]  = i.GetConstructor([]);
			}
		}
	}
}

public class FairLocal : Fair
{	
	public override	Zone	Zone => Zone.Local;
	
	public FairLocal()
	{
		Genesis			= "000001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000001D81F4483126F4162B020179ED5C93D7E7771C557B5616788A8B7E1BAA7E1AB400CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00000000000000000000000000000000000000000000000000000000000000000000000000010000FFFFFFFF0FCD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000009B7C0737DBE0D86D8E72CBDABA4BF368B5DF3FCB3C294FFC7A313CA60057557E000000000000000000000000000000000000000000000101000000010001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000005AB434DD00F14B145259918FE7C1932A44E9CD318A1DCAE474852CE1ADE9134500CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000020001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000E7232256FAF73C0F6D55FD2A49956237D46B9AACCFC1AE70F761DA0A53ACD98200CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000030001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000002183E0F847613FEEEFC3F22B8F05D0F4A5685D32D16ECB24F46D7E5478C1D66F00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000040001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000199F85AD3420711C0D460C890395BA8593EFCD6CF9FFD13B3DA58BA5C512D0900CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000050001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000F8DFF0A93F75734BA2BA1FCEF3A28BD78242F7B9985EB905A7A7FAF2F94AD54F00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000060001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000003DBC891642802776A34B64E93744C3FD9CD936BE83D199D7364B1110AE23792700CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000C187741579A43795937B310E26BDAB0F9CD3802921B79AD6CF8F5C573836A620000000000700010000A5A0591B2BF5085C0DDA2C39C5E478300C6800000000000000000000000025251E1FDEE4C10B679978EDCD9742DE6AF59A962366A8C8CF2053EA04AE11C7000000A5A0591B2BF5085C0DDA2C39C5E478300C68000097E66109EF27552B2EA3A50AA776E2732B561B1B54819C5A2F2B092924C4DE4D000000000800010000A5A0591B2BF5085C0DDA2C39C5E478300C680000000000000000000000001D4A4CF2B21DE973EA3B76BE5D000E3A296B2CFFD8C0AE6AFC9758CBA9E4F89C000000A5A0591B2BF5085C0DDA2C39C5E478300C6800007FDEFF43606679BBBF3E6CF9213BFED0B092BB598DCD2932DA198DB8BC410EE8000000000900010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000108B12F9626A1B6491FF5E7AB5C72292FF51018E4EA267D12B592C6C1A1D3591000000A5A0591B2BF5085C0DDA2C39C5E478300C680000C262F30858C75108385A058BBCBB4E7DEC511AB0417AC417B14B7D232913E304000000000A00010000A5A0591B2BF5085C0DDA2C39C5E478300C6800000000000000000000000048B9BE6233218F23B479174956571E46D9D380374E8D43429CD3B75776CAA759000000A5A0591B2BF5085C0DDA2C39C5E478300C680000E5A341C9595CECB9657B1BD807FC9B4A892A3EC84978D78BB8A356269DD9C315000000000B00010000A5A0591B2BF5085C0DDA2C39C5E478300C6800000000000000000000000022FA9340D18D21063C6B273D92DE0845365220A4F590C74D1856E7B8BE8A1181000000A5A0591B2BF5085C0DDA2C39C5E478300C680000198F1613FE39C9D9B8DF92E8CD8484AB953F800FB7711D15CBD762507D64A4E0000000000C00010000A5A0591B2BF5085C0DDA2C39C5E478300C680000000000000000000000009D3FA8E6656A19C5896159FD5FF36AEB6377CE4B9598B01A924151737846B6F9000000A5A0591B2BF5085C0DDA2C39C5E478300C680000B0481D6C8A8131FCB01155F3A694F624CC9BF2EE7101350E57428D6514E2254100000000";
		Father0IP		= new IPAddress([127, 0, 0, 100]);
		Cryptography	= Cryptography.No;
		PoW				= false;
		CommitLength	= 100;
		ECLifetime		= Time.FromYears(100);
		//PoWComplexity	= 0;

		Initials		= Enumerable.Range(100, 16).Select(i => new IPAddress([127, 0, 0, (byte)i])).ToArray();
	}
}

public class FairDeveloper0 : Fair
{
	public override	Zone	Zone => Zone.Developer0;

	public FairDeveloper0()
	{
 		Genesis		= "000001924FA15CEE3593183200DA35B3C1CEEA9EF510372BED4047DB1E3FA8662D91E51F1860182C6467B83279CD6E1E94083E5A5242BE789548AA9F6236499100B91E00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000002000000FFFFFFFF0FA4CB3B6F96B8F38885D440CAC203BA51F1E6DC12ACA808E66D8D715BB32534607B874DE4FC0DDD813FC144A664C72F66E7EA32E63E72431D2EAB7C54F3C8990F0000000000000000000000000000000000000000000101014E2FCC64014E2FCC64000000FFFFFFFF0FAC4C0B1E25860E717255C29B62639D054CC8EC90805A6EBF4A663E0BDB0624AF34542B03FCE4EA2B741BDB62ABA31BFC18449B52A32784AD4B2485B4699959F401000000000000000000000000000000000000000001020000A5A0591B2BF5085C0DDA2C39C5E478300C6880E0AEF7A001ED028080982A0001000116C57751DDD177F9AFFC108BD0E81C1AA366473D009841BBD40DF1E596F15CC27CAD8E81642A833C7EC558E2C8A95CC90C2EF93A74D4738E1957DCE2A07394D801FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000200012A3F6A5E120902B78C87E9DCE91CC9459EC4799DFEA4F1D75D49426AD458E13D54055F3F4CDC3751B25384CAA49F3AB0F1E6B1E073DC47070BC74B7B32149E3F00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000000003000139E823EA63C1B28963A118404B3F705722951E86DE2F40FE6735F4EF1315DD9358653F6AC34A3826190952BB4C46DA4E54EE6D5748FC71CEC90CD087C299734700FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000400014CBC9123232727B02F301F391A0914883FC827B6F5D93FB412192030D21603D177E4368AEC16FBBB02D33D46393C8E082AF33A07CA4DC6C1AA0722012D37DFD101FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000050001A2390C9DD13A5991A6FE34A298E1F396BC57864905549FCF22E5DC050671447E6BE5757C210C78905845BB2C0462EEB880824EA74BC1CB0A256D0A8ADD39DD5800FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000060001C6A2DB01C658C0E7335DF7BE96D43FBB0AD808142AAACB3172245C4FDCA596E22ED1C5D13E713C40B8E2595861EBFCC00350909F67177D1EC1C2BB87D85B1F2301FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000C79FFA82FC8319F7FFEA275717063E721D15ABA57D1ABE2E18403457635A8B920000000000070001399620EDBCCEC930E7B02A76A0E7441D107954141FFE28FE94B88689B24ACE1B6393433C401513CA1B81A688E37F423CE4A4BF5B6C39DF1BFCCE2CF18C2471BC01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800002BFC92CDB19DE20A0F336C7E8218B26D18843D6DF664B2A8EC67903756EE6A430000000000080001F5274157C470572B24DA7803AEA789AD4E785E51D20A99B3A319065CD789E1A2081D31C029B00A0690842B06E950E96737409E01F27A351C72D9E9DF6534054A00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000094976733CBF90CBF244C88851207542783DF483F259B529A6B2F5C74E0F110F9000000000009000115CCC161A490E3A89A9CE58DDD7B1D9B02F290551CE097792898584C9386A1D22687355B7ED60F8B3D41E6F6F33400D8958C01F55E9549F26035252C5A3FBB8C00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000026F5BB59AFA3E04F89CBCC7BA104C7C811F9B3EBE8C5B57C01C739963B80BDBF00000000000A00013C83C9B40EA86A41DAEBAC25A817FC86859F07CEB2DCEAB3A5DF541EF4F4EDC1137F1C9D4150C74AE9E80DAA4E29E5CEDE3AED3D2A1F8642362280D7FB60237E00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800006D82222024DEE5A3A60326A12704E2E21ACCA1B213BD082F835C265F261D4B1300000000000B00017E2B684F04E405DB0D39EF054240FE741FC632E429EDFD98CAE54FEA4BE3074408C9E2FF3DF69C020797AE4A523D15D1F4563CBC6EB0E1648E7AF4CD4124AB2800FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000794475C52BEBD88C3EF3272EF8A2AB8402199D0771A3953B68EF0E55751FE9E300000000000C000190AD1BA2446C167A4F6C240FDEABAB5CE74A33876F4759FC947F2D97B67009A8573FAAD5C5EC0C155C6FA93B389D6660D1BC20DFE9492003657F8CF866133DA5010000A5A0591B2BF5085C0DDA2C39C5E478300C680000A601BF09C415F05E512FE94F8652D5982E8D8625C4410278FDF9CAC20341E3A200000000000D00018CD3C61BFBBF2981329EEF8EDD15C5839977478D3272DF837D9A03C302AC135241995F394CD89C97E4D832D108AD786833A33933556D109A0FC5F51043DF20F6010000A5A0591B2BF5085C0DDA2C39C5E478300C680000916E6A6BCE34EF36B47EFAA836C096BE284882147C715BB16D396711A56EA35D00000000000E00019C42C59249B766AB63CDC895F873D9F6D25E7CD99791E361156BB3E5BB4354863AE138CD9755090AC481A4EA6A62D6631671738CC1475363ACFC2934324B6AF8000000A5A0591B2BF5085C0DDA2C39C5E478300C6800005557A8042F5627FE1BD8AA992DF25D8521278D2C37802F82154EC81F2FB2BF9200000000000F0001FE7E3C974C2D6E80B7575327BA71F2A0D5C478C590105820482C08D5EE95D3070BC23A8DE6E5B7C03F45070060BB1BA1C29370C2571A4CBED3F74F37DE7CA579010000A5A0591B2BF5085C0DDA2C39C5E478300C6800002F0990B98F00D49613FA824D24CBFABC8487B530E3BD53423D712B6B940BB1970000000000100001C26B1CC2B8EDEE1D6BBA58C003F796C03B8FDB7370D7499280A9607D5CED07445C00C646AEB221D8D435B8FF8E0312ECB80A14011B188CA12E68052C5B183661000000A5A0591B2BF5085C0DDA2C39C5E478300C680000019103B8C37E119AA45002B981B324FC0BD979D45B279B6AB393CBA393227BC9000000000011000129D459C94E7271D630278DCDFB4E20FDF37F6CB57A07F1D4C822EE5AAC669062396E5198E2B552BFD215718A47D2000759149C31377625D05247845BE2FE991C000000A5A0591B2BF5085C0DDA2C39C5E478300C680000CC57DA73756EE3E6A425E3509976E9ACE5EA8920F6E05EAA6FD2531C376F4A9F0000000000";

		var z = Test;

 		Father0IP	= z.Father0IP;
		Initials	= z.Initials;
	}
}

public class FairTest : Fair
{
	public override	Zone	Zone => Zone.Test;

	public FairTest()
	{
 		Genesis		= "000001A1A4B3C0151D1637BA8D9B3BAA239AA66A7A077241A8A826E5FBDEE8A2F4F8754E7531480E696F94CD5D5E1F9AA887CEE7872D952F35469D18984643639FCEBA01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000020000FFFFFFFF0F6711ABE15CCD51C2890981A835B75915EF66ADB1E114EB6F4524D0BC7779F6821616C43F474EFF8241834B7315967099E17525B725D94C96652435CFCD3A8E190000000000000000000000000000000000000000000102000000014E2FCC640000FFFFFFFF0FAB962060DC4FD5AAE3DE7C0AF69979D21195BC2B9AE24172382E2F8638C21CED4CF35DA7E970AF64081DA08B54F1BC6106F64BBF468DEE6F0D5A6B1A4E1C9B0500000000000000000000000000000000000000000002010000000000A5A0591B2BF5085C0DDA2C39C5E478300C68030000000100FEFFFFFF0F0100FFFFFFFF0F80C0CFE0E8950700808080C0D1020100011F518917DAC46B28ED33F186273DA4C2E4CE65FCA407E244DDF6FFF8EE0409A658DD9473E3C51903A77D8D8F06F694D4DD1B4A1566E578DE7A03EDF7D32C942200FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000000200011ABC0F8EB4269D1C4F39C1128B23B55FD27E800EA2327D9DD215CEC47B8986967CAB42E1F72CEE773455CB212CC0E416FEC8B383DD7C852768958033B464325001FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000030001FDA20769848D05D69A745A6D1F09DE1A4A5A29A5F733D3FE3F530BA07038EEB508C06DF8A90AC3F6E36A7B12EFB1D03B7FD65A89D606D549228187BEF8682D3B00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000040001A55BB4B26BB295832A6CEE8BED7A5935FCDA4C537B2A0CC58D637DD54790BD810FADBEC3C01DBE6B8C81FF36F161C02BCA760D342B9156023E052696B917DE5D00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000050001BD769EC8BA7B5C5294A075668C1F1EA2DB9733633D37DFFD0104C3206EFEC2F343737466B32E2EF5724DF74A5079C00BA7FF53DB7DC77AAF11E802010E811B2B01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000006000152DE1F574CAAE6E1812ACB6DD4156E16E22837F51BE216CD51DA73232CDD2E0A65309F2D1B1C678B9A57B79CCDC502D236B1B2C83281CEC4AED955432A1BBFD800FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800002EF6AA0F85DE0AD612F87C04AF8DDD9B1AFF4FC86144578879575F2B5D919D6100000000070001F2CD800A47A963A502E3977803F7DBB421DEDE92AAF42C9D1E8C3A2AECDDC2850A65B657A89DAB4AF786FBFE359A4738DDC2558178E87E2511B78E265A728CCC000000A5A0591B2BF5085C0DDA2C39C5E478300C6800006D6654ACE21DFFEFE3212246CF19B6FE7D47A1359707DC0DB9B9438C4E7F37E3000000000800017483055EF4DC7A0603119AC0B2CC3B47D308DD2225FD7B8225D7945E97C3913403A369F976FE9C6F14BC8005B1D431D42EAE8BFA875D140F013026A04F45DA6C000000A5A0591B2BF5085C0DDA2C39C5E478300C68000042589EC926BFCD689E7DD0A81D6F27DAE87831CE28C6E0478E42954413CEFD820000000009000179382DA18E673D64B6B3D62042EA38959245429D447F3527532440DA90D80EB16AA684BD9AFC3A417FF59B64CA72FCA2B70DCD39B70188F4606FA0215DCDED2A010000A5A0591B2BF5085C0DDA2C39C5E478300C680000088E64E1A9A5126F4CD281A5904B48028E5D79FB1AE65A9CC69729DB2AF371DB000000000A00017589BECBCFFC3F8937656B56DAF4C746D0D8C0D275A939BD2E7936E26E43928E256CFD1D825E8BBA32BC74A10067B7313C04D7066FBD116A26BE38AA1074522E000000A5A0591B2BF5085C0DDA2C39C5E478300C6800003E96311C93F9C78A76F8D2CAB5C95FB905AFBD535CE6FEADE448D958653E00C1000000000B00015E35B74EC9BC02D261B4C996CA0EC096689E18662538697E69A36B6F81D95EF719E373A4F80E133B7036C92C94A8EB089A553D2E7138E9F6B3252F254C70F20A000000A5A0591B2BF5085C0DDA2C39C5E478300C680000CFA4706F0700A037BD7AF79C0045F1DB717BA2038FF30BE3B212BB9E3A46F5B7000000000C0001455DFB96EC63429F7DBB3A737D90537FA93AC2E2F2FD875226B068E04318DA3329D9D5BA2C10D93D2C3507628E8750C8AB0D970BD58391989674FB5D03A5F4B1010000A5A0591B2BF5085C0DDA2C39C5E478300C6800004D02A291F44FC31441B51D6F5947D142AE8C0953B4E3C44A8A87731BCC02485600000000";
 		Father0IP	= IPAddress.Parse("78.47.204.100");
		Initials	= UOInitials;
	}
}
