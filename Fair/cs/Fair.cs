using System.Net;
using System.Reflection;

namespace Uccs.Fair;

public abstract class Fair : McvNet
{
	public override	string			Address => "fair";
	public override	string			Name => "fair";
	public override ushort			PortBase => (ushort)KnownSystem.Fair;
	public override int				TablesCount => Enum.GetNames<FairTable>().Count(i => i[0] != '_');
	
	public int						FileLengthMaximum = 1024*1024;
	public const ushort				PostLengthMaximum = 65535;
	public ushort					NicknameLengthMaximum = 32;
	public const ushort				TitleLengthMaximum = 64;
	public const ushort				SloganLengthMaximum = 128;
 		
	public static Dictionary<Type, uint>								OCodes = [];
	public static Dictionary<Type, Dictionary<uint, ConstructorInfo>>	OContructors = [];

 	public static readonly Fair		Local = new FairLocal();
 	public static readonly Fair		Test = new FairTest();
 	public static readonly Fair		Developer0 = new FairDeveloper0();
	public static readonly Fair		Main = null;
	public static readonly Fair[]	Official = [Local, Developer0, Test];

	public static Fair				ByZone(Zone name) => Official.First(i => i.Zone == name);

	
	public Fair()
	{
		OContructors[typeof(Operation)] = [];

		foreach(var i in Assembly.GetExecutingAssembly().DefinedTypes.Where(i => i.IsSubclassOf(typeof(Operation)) && !i.IsAbstract))
		{
			if(Enum.TryParse<FairOperationClass>(i.Name, out var v))
			{
				OCodes[i] = Codes[i] = (uint)v;
				OContructors[typeof(Operation)][(uint)v] = Contructors[typeof(Operation)][(uint)v]  = i.GetConstructor([]);
			}
		}
	}
}

public class FairLocal : Fair
{	
	public override	Zone	Zone => Zone.Local;
	
	public FairLocal()
	{
		Genesis			= "000001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000006D2267B5B998A85AB5D52DA1E539E65F66A7684864C7CF69055845BF326004E600CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00000000000000000000000000000000000000000000000000000000000000000000000000010000FFFFFFFF0FCD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000713AF0327BAC8EEAAB0B08ED27EC0DBDBC7C86D78A7A301BC89CA78A7A28ABF20000000000000101000000010001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000B222D348E0CAF33192B1AC975F38D681BA55A74409BB4D97E86AFEB378808F0200CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000020001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000E9DBBBB7FD61455B44BF92A71ABAFDE804583732170CE9C11E5BECD9CB1CE96800CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000030001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000002D142F922DDF569461ECF945C2AA90FD6DBCA431EAFAFEEEF59EAE2D620BE62A00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000040001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000B4F93D104E86FCD724599BFB00AE3DE1F05E3FECDC55064F474ACE367D41C31000CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000050001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000C77A9BEDFD8E720ED2D272CA56545A85DFA6A10BD25372499D52CA61DB75A24200CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000060001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000F2FD52B0D586883B2A3B6AE19805365071930336CB674217AFBF986F6B441DFE00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000C187741579A43795937B310E26BDAB0F9CD3802921B79AD6CF8F5C573836A62000000000070001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000AA2936D1582A50350272632CD86AC52CA81326EAFE10D406D3DAF1B4AEB5E5D100CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000097E66109EF27552B2EA3A50AA776E2732B561B1B54819C5A2F2B092924C4DE4D00000000080001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00000000000000000000000070D543C78CDF4C5F65626651EC4146956B9AC1CC93BF4187E50585020523D8E400CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00007FDEFF43606679BBBF3E6CF9213BFED0B092BB598DCD2932DA198DB8BC410EE800000000090001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000FA3C750C8059C69C966F453564533448A1F9BCBB636B4BCB20111DDFF0B2BABF00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000C262F30858C75108385A058BBCBB4E7DEC511AB0417AC417B14B7D232913E304000000000A0001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000000000000000000000000E98AFAAC2C4DFB09D9B8AC10956E000FC32317C48C6456A49C320D3B5197328800CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000E5A341C9595CECB9657B1BD807FC9B4A892A3EC84978D78BB8A356269DD9C315000000000B0001CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000008B851F59DFFC9A60E1DC91C8AF9BE0C175BD490C3DC1A9BAC4D60E1D4AF67CFC00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000198F1613FE39C9D9B8DF92E8CD8484AB953F800FB7711D15CBD762507D64A4E0000000000C00010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000647C723AE5DA04B943CE5599F73558F0D709B02FC8A6AFCF88B8040A9DF60CA7000000A5A0591B2BF5085C0DDA2C39C5E478300C680000B0481D6C8A8131FCB01155F3A694F624CC9BF2EE7101350E57428D6514E22541000000000D00010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000833B0FA9FAAAD5F75DD41706D2804B1EA00CE7EECC19B72584AEB3F8D9709EE8000000A5A0591B2BF5085C0DDA2C39C5E478300C68000084474C74B021B8F35F9947DB05E68FB2E97A52907DBA8CD792C729643F115999000000000E00010000A5A0591B2BF5085C0DDA2C39C5E478300C6800000000000000000000000068FA19C24217C80ECA9008F0D9C73FC1B74B3405DB132493B5E70ECAA76850B2000000A5A0591B2BF5085C0DDA2C39C5E478300C680000554BCEFE76A88C34438C9A1A70F19C9CC380BC14F2A19A907617E60236794BBE000000000F00010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000556889F86BC53BE007D7981CCF5433E29EBC13BEFF47A59718FE32C3A9B19118000000A5A0591B2BF5085C0DDA2C39C5E478300C6800009B78921B99DFE9400782B9BDB94F2FD43186B183B40DA95068D83147824A5F64000000001000010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000673CDFD56875ADB95D40993326C961BBCE6ABEE3E332D32509B40F4A5608DB7A000000A5A0591B2BF5085C0DDA2C39C5E478300C68000074573E3CAE786A9E9866B8C81B2F8038A7E8FB87A5B790B8D05D1D542A7A7D3E000000001100010000A5A0591B2BF5085C0DDA2C39C5E478300C68000000000000000000000000573E8A67486878098A0432D0731B10335B390057FCF24B5CADD877C6D822772F000000A5A0591B2BF5085C0DDA2C39C5E478300C6800008D1D27C223ADBD7A6B95927258C7C4811B621BC4190C4A412B0F17CB9463630C00000000";
		Father0IP		= new IPAddress([127, 0, 0, 100]);
		Cryptography	= Cryptography.No;
		CommitLength	= 100;
		ECLifetime		= Time.FromYears(100);
		//PoWComplexity	= 0;

		Initials		= Enumerable.Range(100, 16).Select(i => new IPAddress([127, 0, 0, (byte)i])).ToArray();
	}
}

public class FairDeveloper0 : Fair
{
	public override	Zone	Zone => Zone.Developer0;

	public FairDeveloper0()
	{
 		Genesis		= "000001924FA15CEE3593183200DA35B3C1CEEA9EF510372BED4047DB1E3FA8662D91E51F1860182C6467B83279CD6E1E94083E5A5242BE789548AA9F6236499100B91E00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000002000000FFFFFFFF0FA4CB3B6F96B8F38885D440CAC203BA51F1E6DC12ACA808E66D8D715BB32534607B874DE4FC0DDD813FC144A664C72F66E7EA32E63E72431D2EAB7C54F3C8990F0000000000000000000000000000000000000000000101014E2FCC64014E2FCC64000000FFFFFFFF0FAC4C0B1E25860E717255C29B62639D054CC8EC90805A6EBF4A663E0BDB0624AF34542B03FCE4EA2B741BDB62ABA31BFC18449B52A32784AD4B2485B4699959F401000000000000000000000000000000000000000001020000A5A0591B2BF5085C0DDA2C39C5E478300C6880E0AEF7A001ED028080982A0001000116C57751DDD177F9AFFC108BD0E81C1AA366473D009841BBD40DF1E596F15CC27CAD8E81642A833C7EC558E2C8A95CC90C2EF93A74D4738E1957DCE2A07394D801FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000200012A3F6A5E120902B78C87E9DCE91CC9459EC4799DFEA4F1D75D49426AD458E13D54055F3F4CDC3751B25384CAA49F3AB0F1E6B1E073DC47070BC74B7B32149E3F00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800000000000000000000000000000000000000000000000000000000000000000000000000000003000139E823EA63C1B28963A118404B3F705722951E86DE2F40FE6735F4EF1315DD9358653F6AC34A3826190952BB4C46DA4E54EE6D5748FC71CEC90CD087C299734700FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000000000000000000000000000000000000000000000000000000000000000000000000000000400014CBC9123232727B02F301F391A0914883FC827B6F5D93FB412192030D21603D177E4368AEC16FBBB02D33D46393C8E082AF33A07CA4DC6C1AA0722012D37DFD101FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000050001A2390C9DD13A5991A6FE34A298E1F396BC57864905549FCF22E5DC050671447E6BE5757C210C78905845BB2C0462EEB880824EA74BC1CB0A256D0A8ADD39DD5800FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000000000000000000000000000000000000000000000000000000000000000000000000000000060001C6A2DB01C658C0E7335DF7BE96D43FBB0AD808142AAACB3172245C4FDCA596E22ED1C5D13E713C40B8E2595861EBFCC00350909F67177D1EC1C2BB87D85B1F2301FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000C79FFA82FC8319F7FFEA275717063E721D15ABA57D1ABE2E18403457635A8B920000000000070001399620EDBCCEC930E7B02A76A0E7441D107954141FFE28FE94B88689B24ACE1B6393433C401513CA1B81A688E37F423CE4A4BF5B6C39DF1BFCCE2CF18C2471BC01FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800002BFC92CDB19DE20A0F336C7E8218B26D18843D6DF664B2A8EC67903756EE6A430000000000080001F5274157C470572B24DA7803AEA789AD4E785E51D20A99B3A319065CD789E1A2081D31C029B00A0690842B06E950E96737409E01F27A351C72D9E9DF6534054A00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000094976733CBF90CBF244C88851207542783DF483F259B529A6B2F5C74E0F110F9000000000009000115CCC161A490E3A89A9CE58DDD7B1D9B02F290551CE097792898584C9386A1D22687355B7ED60F8B3D41E6F6F33400D8958C01F55E9549F26035252C5A3FBB8C00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB608000026F5BB59AFA3E04F89CBCC7BA104C7C811F9B3EBE8C5B57C01C739963B80BDBF00000000000A00013C83C9B40EA86A41DAEBAC25A817FC86859F07CEB2DCEAB3A5DF541EF4F4EDC1137F1C9D4150C74AE9E80DAA4E29E5CEDE3AED3D2A1F8642362280D7FB60237E00FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB60800006D82222024DEE5A3A60326A12704E2E21ACCA1B213BD082F835C265F261D4B1300000000000B00017E2B684F04E405DB0D39EF054240FE741FC632E429EDFD98CAE54FEA4BE3074408C9E2FF3DF69C020797AE4A523D15D1F4563CBC6EB0E1648E7AF4CD4124AB2800FFFF9F9D0914ED338CB26CE8B1B9B8810BAFB6080000794475C52BEBD88C3EF3272EF8A2AB8402199D0771A3953B68EF0E55751FE9E300000000000C000190AD1BA2446C167A4F6C240FDEABAB5CE74A33876F4759FC947F2D97B67009A8573FAAD5C5EC0C155C6FA93B389D6660D1BC20DFE9492003657F8CF866133DA5010000A5A0591B2BF5085C0DDA2C39C5E478300C680000A601BF09C415F05E512FE94F8652D5982E8D8625C4410278FDF9CAC20341E3A200000000000D00018CD3C61BFBBF2981329EEF8EDD15C5839977478D3272DF837D9A03C302AC135241995F394CD89C97E4D832D108AD786833A33933556D109A0FC5F51043DF20F6010000A5A0591B2BF5085C0DDA2C39C5E478300C680000916E6A6BCE34EF36B47EFAA836C096BE284882147C715BB16D396711A56EA35D00000000000E00019C42C59249B766AB63CDC895F873D9F6D25E7CD99791E361156BB3E5BB4354863AE138CD9755090AC481A4EA6A62D6631671738CC1475363ACFC2934324B6AF8000000A5A0591B2BF5085C0DDA2C39C5E478300C6800005557A8042F5627FE1BD8AA992DF25D8521278D2C37802F82154EC81F2FB2BF9200000000000F0001FE7E3C974C2D6E80B7575327BA71F2A0D5C478C590105820482C08D5EE95D3070BC23A8DE6E5B7C03F45070060BB1BA1C29370C2571A4CBED3F74F37DE7CA579010000A5A0591B2BF5085C0DDA2C39C5E478300C6800002F0990B98F00D49613FA824D24CBFABC8487B530E3BD53423D712B6B940BB1970000000000100001C26B1CC2B8EDEE1D6BBA58C003F796C03B8FDB7370D7499280A9607D5CED07445C00C646AEB221D8D435B8FF8E0312ECB80A14011B188CA12E68052C5B183661000000A5A0591B2BF5085C0DDA2C39C5E478300C680000019103B8C37E119AA45002B981B324FC0BD979D45B279B6AB393CBA393227BC9000000000011000129D459C94E7271D630278DCDFB4E20FDF37F6CB57A07F1D4C822EE5AAC669062396E5198E2B552BFD215718A47D2000759149C31377625D05247845BE2FE991C000000A5A0591B2BF5085C0DDA2C39C5E478300C680000CC57DA73756EE3E6A425E3509976E9ACE5EA8920F6E05EAA6FD2531C376F4A9F0000000000";

		var z = Test;

 		Father0IP	= z.Father0IP;
		Initials	= z.Initials;
	}
}

public class FairTest : Fair
{
	public override	Zone	Zone => Zone.Test;

	public FairTest()
	{
 		Genesis		= "00000186444C788C3390ECB7D357FE51D036B1D795E5CA1947D267C3418E3A9736E20939133D3F983287A2A26BC8C5396A1B1A0ABA2A92C134206B7CDC6F58F04A21FA00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00000000000000000000000000000000000000000000000000000000000000000000000000010000FFFFFFFF0F6B38C56A8B899D87AF1102CB4479D0EC1BAA9D43CC4E8C0A0F561C2E17B371277D530DA67B3A2E705F419745C155B9B2F237226CAD2C1FB6FFB938B7DB739CAC0100000000000101000000010001AC08FB9CF4AC2B39B7C88139F081072D8DF0BBACC32CF5C04F21462196AA044F1E2A40597033E934C3A4DBBF07D3D149FDE99D0885BCC1D68CAF70B8E0C1326600CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000020001567C25B1A2B45CB450A45C8A560B0F6EA85EA8F43A9A622E7116E391EEDFC7A745DB05982A7F64F29D05D4EE7C724180A33865DE4991256E61BE5BF2F561CBB100CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000030001942AD57C344DD899FDFEA09D77424521A766772FDBAF454D996045D36C6EA7863EEA49BCE5019CC8CACF0A86D9F682C70FC442940658D7F555D4DD2535F8D8EA00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000040001390CCB925F5227CC5533FCBB238058E93FC251E960B603632B7683351981DE1B2852D32AC3E3B856E39EE28BDCEDC442CDF9046E403C7B295D836CD463394C7701CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000000000000000000000000000000000000000000000000000000000000000000000000000050001F7A7599711CAEF38417D19706D765ACB082D168A2ECCAA00D2AA7F51707EB43702C6784B0AA4C34F27F324CFAFDDF8B8663C12C4817B88EF0464C373BB6FF62401CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00000000000000000000000000000000000000000000000000000000000000000000000000000600016C5C317CC904DBACD766D399E27A832094AC13600C02E11C3D5A76B386095C0662A4997FA54CC3EA7AE88E3EF9721A9D51CBEFCCB26C485040BA609CAA067F6900CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000C187741579A43795937B310E26BDAB0F9CD3802921B79AD6CF8F5C573836A62000000000070001E4BE1A7FF03C890F62A6731A3CB71D60A743D2A43C45DF314D7796D90CC46C9C0717D9DC97FB20A7496D464CA9E930C1F4737276E2B80EE5F03496998292CC5C01CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C000097E66109EF27552B2EA3A50AA776E2732B561B1B54819C5A2F2B092924C4DE4D0000000008000131B3CEF0AF4F75D54246CACB70A2123B98DFEFFC5A62B59C6C5C43F5B865D5D85C1B65549C3F1F5E0989B5CA2C382379447EE6ED88F2D206A239044DE7AA9E0501CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C00007FDEFF43606679BBBF3E6CF9213BFED0B092BB598DCD2932DA198DB8BC410EE800000000090001643C8B4FC3E3AE03574C9FB9C219B06B1214D6881BABDF92B11B2924462FAB2C772D8788C0606EA31A2979258E63677436976DC6D0D516493B1C9D88651EADBA01CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000C262F30858C75108385A058BBCBB4E7DEC511AB0417AC417B14B7D232913E304000000000A00014208E94ACAEFF568BE86B19CF47816AF8C9C1F1908626B26A6ED27B23B6D2D7430A2FAB062DEFDEF6D6DEB539D86CD4C7D002EC4F1770E7BA0A2BA090EDCC6FA01CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000E5A341C9595CECB9657B1BD807FC9B4A892A3EC84978D78BB8A356269DD9C315000000000B0001EFB7935FD8AAC5665F6E5E291A8C3548B7B1B6DF6F65CD709BCABAA9A6CE52123FF7F03342B5EC1D642E51B73C5FEE6A7FE04C28339A397109D06C514F69F30B00CD6F2C4FB1927B372B0C73E3E1A02BEA2D9A8C5C0000198F1613FE39C9D9B8DF92E8CD8484AB953F800FB7711D15CBD762507D64A4E0000000000C00016AD56B730094612DB02DDE5050D564C8F916B594F9432735512134116A96FB4E12895BB9998134CDA4513C5FE815912C3EE715D4109BDE14A5A5D145BDE92BDA010000A5A0591B2BF5085C0DDA2C39C5E478300C680000B0481D6C8A8131FCB01155F3A694F624CC9BF2EE7101350E57428D6514E22541000000000D0001720DFC08C2D0769A0A9BE01CDD59D6244EF145E0DCFA87B9B1AE2EDEC71E12A771BEA5E78E36EE4FAF5B8D36AAE7693C0DA399BC2C062EE6FFEC5B29856B971E000000A5A0591B2BF5085C0DDA2C39C5E478300C68000084474C74B021B8F35F9947DB05E68FB2E97A52907DBA8CD792C729643F115999000000000E0001E1F1ADD17532D6FEE49B204E5900CDA36FAFE5C030CBC8A0DC75941B25F8E4C4710ECADB30126D7793DF6499B027E7A5D428519186625BB692F39C8F42304198010000A5A0591B2BF5085C0DDA2C39C5E478300C680000554BCEFE76A88C34438C9A1A70F19C9CC380BC14F2A19A907617E60236794BBE000000000F00010977FAF9BA935774A0F7C9D789330505375FBBB3EA596AB9899A4DD1BD8CD941468683CE808309A4EC79558810DB45356AA4F3746222B51EDBEA345B396CF0AA010000A5A0591B2BF5085C0DDA2C39C5E478300C6800009B78921B99DFE9400782B9BDB94F2FD43186B183B40DA95068D83147824A5F64000000001000014962A7481104EA8D7FAB948FFB7717CEB3C8D15D1A1718933270C2074DFC85E0591BB5D06E6EF2E9D2AACCDCB7761837A27773E7A9803F4865EC2161146AC2B8000000A5A0591B2BF5085C0DDA2C39C5E478300C68000074573E3CAE786A9E9866B8C81B2F8038A7E8FB87A5B790B8D05D1D542A7A7D3E000000001100011B2EC425402906EDB7EFDBF8AA4C423651857A83295587EA44F7878E14D164363341D63C73878BAE8F314D647FA6B9C682BCE8BA724C08B7BA19EE28BEDC5CF6000000A5A0591B2BF5085C0DDA2C39C5E478300C6800008D1D27C223ADBD7A6B95927258C7C4811B621BC4190C4A412B0F17CB9463630C00000000";
 		Father0IP	= IPAddress.Parse("78.47.204.100");
		Initials	= UOInitials;
	}
}
